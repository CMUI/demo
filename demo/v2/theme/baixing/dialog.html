<!doctype html>
<html lang="zh-cmn-Hans">
<head>
<meta charset="utf-8">
<title>Dialog - CMUI Demo</title>
<meta name="viewport" content="initial-scale=1, user-scalable=no">
<meta name="keywords" content="CMUI, UI, Framework, CSS, Mobile, Web">
<meta name="description" content="CMUI - Lightweight UI solution for mobile web. CMUI 是一个专攻移动网页的 UI 框架，它提供了丰富的组件和简洁的接口，开箱即用。CMUI 帮助开发者摆脱样式细节和兼容性困扰，从而腾出更多精力投入到业务开发中。">
<link rel="stylesheet" href="/demo/v2/static/baixing/css/dist/demo.css">
</head>
<body id="dialog">
<article class="subview subview-root">
	<header><h1>Dialog</h1></header>
	<section><h2>简介</h2>
		<div class="intro"><p>“弹框” 亦称 “对话框”，是最常见的 UI 交互元素之一。</p>
			<p>CMUI 只支持模态弹框。模态弹框是指弹框将下层的页面内容遮盖，避免用户与弹框之外的内容进行交互。</p></div>
		<div class="intro"><h4><strong>注意</strong></h4>
			<ul class="cm-text"><li>此组件依赖 CMUI 的 Mask 组件。</li></ul>
		</div>
	</section>
	<section><h2>结构</h2>
		<div class="intro">
			<p>在使用弹框的 JS API 之前，需要在页面中写好（或由 JS 动态生成）相应的弹框元素。弹框元素的结构大致如下：</p>
			<pre><code>div.cm-dialog  //弹框的容器
	a.cm-dialog-close-btn @href="#"  //关闭按钮（注 1）
	div.cm-dialog-img        //头图（注 2）（注 4）
	header.cm-dialog-header  //弹框标题栏（注 2）
		h2.cm-dialog-header-title  //标题文字
	main.cm-dialog-content   //弹框主体（注 3）
		...
	footer.cm-dialog-footer  //弹框底栏（注 3）
		...
</code></pre>
			<p><strong>注 1</strong>：“关闭按钮” 会由 JS API 自动生成，无需手工编写。</p><p><strong>注 2</strong>：有此标注的多个元素至少应该存在一个。
		</p><p><strong>注 3</strong>：有此标注的各个元素均为可选。</p><p><strong>注 4</strong>：头图可由
			<code>&lt;img></code> 标签来实现，也可由背景图片来实现。无论使用哪种方法，都需要指定图片的高度。</p></div>
	</section>
	<section class="style"><h2>样式</h2>
		<div class="intro"><p>弹框默认具有圆角样式，其内容会被切圆角。</p></div>
		<div class="intro">
			<p>弹框并不是静态的布局元素，且默认不显示。但由于弹框有多种样式组合，为便于演示，下面把弹框以静态元素的形式展示出来。</p>
			<p><strong>注意</strong>：以下示例并没有列出所有可能的样式组合，你可以根据 “结构” 段落所述的约定自行搭配出更多的弹框样式。
			</p></div>
		<section><h3>仅有头图</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<div class="cm-dialog-img"></div>
			</div>
		</section>
		<section><h3>仅有标题</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">标题文字</h2></header>
			</div>
		</section>
		<section><h3>头图 + 标题</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<div class="cm-dialog-img"></div>
				<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">标题文字</h2></header>
			</div>
		</section>
		<section><h3>头图 + 内容</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<div class="cm-dialog-img"></div>
				<main class="cm-dialog-content">内容文字</main>
			</div>
		</section>
		<section><h3>标题 + 内容</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">标题文字</h2></header>
				<main class="cm-dialog-content">内容文字</main>
			</div>
		</section>
		<section><h3>标题 + 底栏</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">标题文字</h2></header>
				<footer class="cm-dialog-footer"><a class="cm-btn cm-btn-primary" href="#">确定</a></footer>
			</div>
		</section>
		<section><h3>头图 + 底栏</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<div class="cm-dialog-img"></div>
				<footer class="cm-dialog-footer"><a class="cm-btn cm-btn-primary" href="#">确定</a></footer>
			</div>
		</section>
		<section><h3>标题 + 内容 + 底栏</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">标题文字</h2></header>
				<main class="cm-dialog-content">内容文字</main>
				<footer class="cm-dialog-footer">
					<a class="cm-btn cm-btn-primary" href="#">确定</a><a class="cm-btn cm-btn-primary cm-btn-bordered" href="#">取消</a>
				</footer>
			</div>
		</section>
		<section><h3>头图 + 自动关闭提示栏</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<div class="cm-dialog-img"></div>
				<div class="cm-dialog-auto-hide"><span class="cm-dialog-auto-hide-countdown">?</span> 秒后自动关闭……
				</div>
			</div>
			<div class="intro"><p>当 JS API 设置了弹框的自动关闭功能时，“自动关闭提示栏” 会自动出现，无需手工编写。</p>
			</div>
		</section>
		<section><h3>标题 + 自动关闭提示栏</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">标题文字</h2></header>
				<div class="cm-dialog-auto-hide"><span class="cm-dialog-auto-hide-countdown">?</span> 秒后自动关闭……
				</div>
			</div>
		</section>
		<section><h3>标题 + 内容 + 自动关闭提示栏</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">标题文字</h2></header>
				<main class="cm-dialog-content">内容文字</main>
				<div class="cm-dialog-auto-hide"><span class="cm-dialog-auto-hide-countdown">?</span> 秒后自动关闭……
				</div>
			</div>
		</section>
		<section><h3>标题 + 内容 + 底栏 + 自动关闭提示栏</h3>
			<div class="cm-dialog"><a class="cm-dialog-close-btn" href="#"></a>
				<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">标题文字</h2></header>
				<main class="cm-dialog-content">内容文字</main>
				<footer class="cm-dialog-footer">
					<a class="cm-btn cm-btn-primary" href="#">确定</a><a class="cm-btn cm-btn-primary cm-btn-bordered" href="#">取消</a>
				</footer>
				<div class="cm-dialog-auto-hide"><span class="cm-dialog-auto-hide-countdown">?</span> 秒后自动关闭……
				</div>
			</div>
		</section>
	</section>
	<section><h2>JS API</h2>
		<div class="intro"><p>在 JS 中调用以下 API，即可触发相应的功能。</p></div>
		<div class="intro"><p>各参数的含义详见
			<a href="https://github.com/CMUI/doc/issues/3" target="_blank">API 文档</a>。</p></div>
		<section><h3>显示</h3>
			<div class="intro"><p>需要使用 JS API 来把指定的弹框显示出来。</p>
				<p>Dialog 组件支持在弹框中打开另一个弹框。多个弹框的打开顺序会保存在一个栈中，当栈中有多个弹框时，关闭当前弹框会恢复上一个弹框的显示。通过下面的按钮打开弹框，可以测试这一特性。</p>
			</div>
			<dl class="code-result">
				<dt><code>CMUI.dialog.show(elem)</code></dt>
				<dd><a class="cm-btn" href="#" data-action="demo-dialog-show">显示</a></dd>
				<dt><code>CMUI.dialog.show(elem, {autoHideDelay: 3000})</code></dt>
				<dd><a class="cm-btn" href="#" data-action="demo-dialog-show-auto-hide">显示并设置自动隐藏</a></dd>
			</dl>
		</section>
		<section><h3>隐藏</h3>
			<dl class="code-result">
				<dt><code>CMUI.dialog.hide()</code></dt>
				<dd><p>此方法可以关闭当前显示的弹框。</p>
					<p>在弹出的弹框中，点击关闭按钮可以测试隐藏效果；你也可以在控制台调用这个方法来测试效果。</p></dd>
			</dl>
			<div class="cm-msg-box cm-msg-box-warning"><strong>注意</strong>：在默认情况下，点击遮罩层并不能隐藏弹框。
			</div>
		</section>
		<section><h3>构造一个弹框</h3>
			<dl class="code-result">
				<dt><code>CMUI.dialog.create(options)</code></dt>
				<dd><p>此方法可以动态构造一个新的弹框。</p><p>构造完成之后，这个新弹框会被添加到 DOM 中，但默认不显示。我们需要显式调用
					<code>CMUI.dialog.show()</code> 方法来将其打开，比如：</p>
					<pre><code>var myDialog = CMUI.dialog.create({...})
CMUI.dialog.show(myDialog)
</code></pre>
					<p>以下示例按钮包含了构造和显示两个步骤。</p></dd>
			</dl>
			<div class="intro"><a class="cm-btn" href="#" data-action="demo-dialog-create-and-show">构造并显示</a></div>
		</section>
	</section>
	<section class="back"><a href="./">&lt;&lt; 返回首页</a></section>
	<footer>&copy; CMUI.NET</footer>
</article>
<div class="cm-dialog" id="demo-dialog">
	<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">弹框</h2></header>
	<main class="cm-dialog-content cm-scrollable-content"><p>弹框的内容</p><p>弹框的内容</p><p>弹框的内容</p></main>
	<footer class="cm-dialog-footer">
		<button class="cm-btn cm-btn-primary" data-action="demo-dialog-show-alt">打开另一个弹框</button>
		<button class="cm-btn cm-btn-primary cm-btn-bordered" data-action="cm-dialog-hide">取消</button>
	</footer>
</div>
<div class="cm-dialog" id="demo-dialog-alt">
	<header class="cm-dialog-header"><h2 class="cm-dialog-header-title">另一个弹框</h2></header>
	<main class="cm-dialog-content cm-scrollable-content"><p>关闭本弹框后将返回上一个弹框。</p></main>
	<footer class="cm-dialog-footer">
		<button class="cm-btn cm-btn-primary" data-action="cm-dialog-hide">关闭</button>
	</footer>
</div>
<script src="/demo/v2/static/baixing/js/dist/lib.js"></script>
<script src="/demo/v2/static/baixing/js/dist/cmui.js"></script>
<script src="/demo/v2/static/baixing/js/dist/demo.js"></script>
</body>
</html>
